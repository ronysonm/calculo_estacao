---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - tsconfig.app.json
  - tsconfig.node.json
  - vite.config.ts
  - vitest.config.ts
  - index.html
  - src/main.tsx
  - src/App.tsx
  - src/index.css
  - src/test/setup.ts
  - src/lib/utils.ts
  - components.json
autonomous: true

must_haves:
  truths:
    - "Project builds without errors via npm run build"
    - "Dev server starts and renders a React component at localhost"
    - "Vitest runs and passes with jsdom environment configured"
    - "Tailwind CSS classes apply correctly in components"
    - "Path alias @ resolves to src/ in both app and test code"
  artifacts:
    - path: "package.json"
      provides: "Project manifest with all dependencies"
      contains: "react"
    - path: "vite.config.ts"
      provides: "Vite build configuration with React and Tailwind plugins"
      contains: "tailwindcss"
    - path: "vitest.config.ts"
      provides: "Test configuration with jsdom and globals"
      contains: "jsdom"
    - path: "src/index.css"
      provides: "Tailwind CSS entry point"
      contains: "tailwindcss"
    - path: "src/test/setup.ts"
      provides: "Test setup with jest-dom matchers"
      contains: "jest-dom"
    - path: "src/lib/utils.ts"
      provides: "shadcn/ui cn() utility"
      contains: "clsx"
  key_links:
    - from: "vite.config.ts"
      to: "src/main.tsx"
      via: "Vite dev server entry point"
      pattern: "react\\(\\)"
    - from: "vitest.config.ts"
      to: "src/test/setup.ts"
      via: "setupFiles configuration"
      pattern: "setupFiles.*setup"
---

<objective>
Scaffold a React + TypeScript + Vite project with Tailwind CSS v4, shadcn/ui, and Vitest configured. This is the infrastructure foundation that all subsequent plans build on.

Purpose: Every other plan in this phase (and all future phases) depends on a working build pipeline, test runner, and component library being in place first.
Output: A buildable, testable React project with Tailwind styling and shadcn/ui ready to use.
</objective>

<execution_context>
@/home/suporte/.claude/get-shit-done/workflows/execute-plan.md
@/home/suporte/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create React + TypeScript + Vite project with dependencies</name>
  <files>
    package.json
    tsconfig.json
    tsconfig.app.json
    tsconfig.node.json
    vite.config.ts
    index.html
    src/main.tsx
    src/App.tsx
    src/vite-env.d.ts
  </files>
  <action>
    Create the project from scratch in the repository root (/home/suporte) — this IS the project root (git repo is here, .planning/ is here).

    1. Create package.json with name "calculo-estacao", type "module", scripts: dev, build, preview, test, type-check.

    2. Install core dependencies:
       - react, react-dom (19.x)
       - date-fns (4.x)
       - zustand (5.x)
       - zod (3.x)

    3. Install dev dependencies:
       - vite (7.x), @vitejs/plugin-react
       - typescript (5.x), @types/react, @types/react-dom, @types/node
       - tailwindcss (4.x), @tailwindcss/vite
       - vitest (2.x), @testing-library/react, @testing-library/jest-dom, @testing-library/user-event, jsdom

    4. Create tsconfig.json (references pattern with tsconfig.app.json and tsconfig.node.json):
       - tsconfig.app.json: strict true, jsx react-jsx, target ES2020, module ESNext, moduleResolution bundler, paths @/* -> ./src/*
       - tsconfig.node.json: for vite.config.ts

    5. Create vite.config.ts with:
       - @vitejs/plugin-react
       - @tailwindcss/vite plugin
       - resolve.alias: @ -> path.resolve(__dirname, "./src")

    6. Create minimal index.html (root div, script tag to /src/main.tsx)
    7. Create src/main.tsx (ReactDOM.createRoot rendering App)
    8. Create src/App.tsx (minimal component with "Calculo Estacao" heading, a Tailwind class to verify styling works)
    9. Create src/vite-env.d.ts (Vite client types reference)

    Do NOT install shadcn/ui yet — that happens in Task 2 after Tailwind is configured.
    Do NOT include any dependencies from the old calculo_calendario_estacao project (Preact, tabulator, jspdf, xlsx, etc).
  </action>
  <verify>
    Run: npm run build — should complete with zero errors.
    Run: npm run type-check — should complete with zero errors.
    Run: npm run dev — should start dev server (verify it starts, then kill it).
  </verify>
  <done>
    Project builds successfully. TypeScript compiles without errors. Dev server starts and serves the React app.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind CSS v4, shadcn/ui, and Vitest</name>
  <files>
    src/index.css
    src/lib/utils.ts
    components.json
    vitest.config.ts
    src/test/setup.ts
  </files>
  <action>
    1. Create src/index.css with Tailwind v4 import:
       ```
       @import "tailwindcss";
       ```
       Add CSS variables for shadcn/ui theming (the standard shadcn/ui CSS variables for colors, radius, etc). Import this in src/main.tsx.

    2. Initialize shadcn/ui:
       Run: npx shadcn@latest init
       - Style: default
       - Base color: neutral (or slate)
       - CSS variables: yes
       If interactive prompts are problematic, create components.json manually following the shadcn/ui Vite docs and create src/lib/utils.ts with the cn() helper (clsx + tailwind-merge).

       Install clsx and tailwind-merge if shadcn init doesn't:
       npm install clsx tailwind-merge

    3. Verify shadcn/ui works by adding a test component — add a button import or just verify cn() utility works.

    4. Create vitest.config.ts (separate from vite.config.ts per Vitest docs):
       ```typescript
       import { defineConfig } from 'vitest/config';
       import react from '@vitejs/plugin-react';
       import path from 'path';

       export default defineConfig({
         plugins: [react()],
         test: {
           globals: true,
           environment: 'jsdom',
           setupFiles: './src/test/setup.ts',
         },
         resolve: {
           alias: {
             '@': path.resolve(__dirname, './src'),
           },
         },
       });
       ```

    5. Create src/test/setup.ts:
       ```typescript
       import '@testing-library/jest-dom';
       ```

    6. Create a smoke test at src/App.test.tsx that renders App and checks for the heading text. This validates the entire test pipeline works (jsdom, React rendering, jest-dom matchers, path aliases).

    7. Update src/App.tsx to use at least one Tailwind utility class (e.g., text-2xl font-bold) so we can visually confirm Tailwind works when dev server runs.
  </action>
  <verify>
    Run: npm test -- --run — all tests pass (smoke test).
    Run: npm run build — still builds cleanly with Tailwind and shadcn/ui.
    Run: npm run dev — dev server shows styled heading (Tailwind classes applied).
  </verify>
  <done>
    Tailwind CSS v4 processes utility classes. shadcn/ui cn() utility available at @/lib/utils. Vitest runs with jsdom environment and jest-dom matchers. Smoke test passes. Build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run type-check` completes without errors
3. `npm test -- --run` passes all tests (smoke test)
4. `npm run dev` starts dev server successfully
5. Path alias `@/lib/utils` resolves in both app and test code
</verification>

<success_criteria>
- Project scaffolded with React 19, TypeScript 5, Vite 7
- Tailwind CSS v4 configured and processing utility classes
- shadcn/ui initialized with cn() utility available
- Vitest configured with jsdom, globals, jest-dom matchers
- Smoke test passes proving full test pipeline works
- Build produces output without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
